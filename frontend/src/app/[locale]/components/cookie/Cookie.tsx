import React, { useState } from 'react';
import styles from './Cookie.module.scss'
// import { useTranslations } from 'next-intl';
interface CookieConfirmationProps {
    onConfirm: () => void;
}

const CookieConfirmation: React.FC<CookieConfirmationProps> = ({ onConfirm }) => {
    const [confirmed, setConfirmed] = useState<boolean>(false);
    // const t = useTranslations('cookie');

    const handleConfirm = () => {
        setConfirmed(true);
        onConfirm(); // вызываем колбэк, который передается извне
        // Записываем подтверждение в куки
        document.cookie = 'cookieConfirmation=true; expires=Fri, 31 Dec 9999 23:59:59 GMT';
    };

    // Проверяем, было ли подтверждение в куки
    if (confirmed || document.cookie.includes('cookieConfirmation=true')) {
        return null; // Если подтверждение получено, не показываем компонент
    }

    return (
        <div className={styles.cookie}>
            <div className={styles.image}>
                <svg xmlns="http://www.w3.org/2000/svg" width="49" height="49" viewBox="0 0 49 49" fill="none">
                    <g clipPath="url(#clip0_1_8957)">
                        <path d="M20.1071 4.5791C21.2604 4.31536 22.4572 4.30536 23.6148 4.54979C24.7724 4.79421 25.863 5.28722 26.8112 5.9947C27.7595 6.70219 28.5427 7.60725 29.1067 8.64726C29.6706 9.68728 30.0019 10.8374 30.0775 12.0181L30.4625 11.8149C31.1745 11.4263 31.9565 11.183 32.7633 11.0991C33.57 11.0152 34.3854 11.0924 35.1621 11.3261C35.9387 11.5599 36.6613 11.9456 37.2877 12.4608C37.9141 12.976 38.432 13.6106 38.8112 14.3275C39.1904 15.0445 39.4234 15.8297 39.4968 16.6375C39.5701 17.4452 39.4823 18.2595 39.2384 19.0331C38.9945 19.8066 38.5994 20.524 38.076 21.1437C37.5526 21.7633 36.9114 22.2728 36.1895 22.6426L32.9983 24.3311L33.344 25.8437L38.4782 31.3743C39.0317 31.9626 39.4634 32.6546 39.7483 33.4104C40.0333 34.1662 40.166 34.971 40.1387 35.7783C40.1114 36.5856 39.9247 37.3795 39.5893 38.1144C39.2539 38.8492 38.7765 39.5105 38.1845 40.0601C37.5926 40.6096 36.8977 41.0367 36.14 41.3167C35.3823 41.5966 34.5767 41.7239 33.7696 41.6913C32.9625 41.6587 32.1699 41.4667 31.4372 41.1264C30.7046 40.7862 30.0466 40.3044 29.5009 39.7088L27.6897 37.7583L26.9059 40.3039C26.4194 41.8464 25.3424 43.1338 23.9102 43.8852C22.4779 44.6366 20.8065 44.791 19.2608 44.3147C17.7152 43.8383 16.4206 42.77 15.6598 41.3427C14.8989 39.9154 14.7334 38.2452 15.1995 36.6964L17.4221 29.4866L17.0759 27.972L13.4681 27.8373C12.6572 27.8178 11.8583 27.6374 11.1177 27.3066C10.3772 26.9759 9.70964 26.5013 9.15394 25.9105C8.59824 25.3197 8.16542 24.6244 7.88059 23.8649C7.59577 23.1055 7.46462 22.2971 7.49475 21.4865C7.52489 20.676 7.71571 19.8795 8.05613 19.1433C8.39656 18.4071 8.87982 17.7459 9.47786 17.198C10.0759 16.65 10.7768 16.2264 11.5399 15.9515C12.303 15.6766 13.1131 15.5561 13.9232 15.5968L14.3582 15.6126C13.9131 14.5162 13.7116 13.3362 13.7676 12.1542C13.8237 10.9722 14.1359 9.81657 14.6826 8.76719C15.2294 7.7178 15.9977 6.79976 16.9343 6.07663C17.8709 5.35349 18.9535 4.84252 20.1071 4.5791ZM21.0168 8.5598C20.2199 8.74204 19.496 9.15928 18.9389 9.75752C18.3818 10.3558 18.017 11.1075 17.8919 11.9153C17.7667 12.7232 17.887 13.55 18.237 14.2887C18.587 15.0275 19.1507 15.6442 19.8551 16.059C20.2466 16.2896 20.55 16.6441 20.7173 17.0665C20.8845 17.4889 20.9061 17.9551 20.7787 18.3911C20.6512 18.8272 20.3819 19.2083 20.0134 19.4741C19.645 19.7398 19.1984 19.8751 18.7444 19.8585L13.7705 19.6758C13.4983 19.6582 13.2254 19.6954 12.9678 19.7851C12.7102 19.8748 12.4732 20.0152 12.2708 20.198C12.0683 20.3808 11.9046 20.6023 11.7892 20.8494C11.6738 21.0966 11.6091 21.3643 11.5989 21.6369C11.5887 21.9094 11.6332 22.1813 11.7298 22.4364C11.8264 22.6914 11.9731 22.9246 12.1613 23.122C12.3495 23.3194 12.5754 23.4771 12.8255 23.5858C13.0757 23.6945 13.3451 23.752 13.6178 23.7548L18.7931 23.948C19.2418 23.9648 19.6725 24.129 20.0185 24.4153C20.3645 24.7016 20.6064 25.094 20.7069 25.5317L21.5238 29.1063C21.6036 29.4557 21.5901 29.82 21.4845 30.1625L19.1016 37.8989C19.0206 38.1557 18.9912 38.4259 19.0151 38.6941C19.039 38.9623 19.1157 39.2231 19.2408 39.4616C19.3658 39.7 19.5369 39.9113 19.7439 40.0834C19.951 40.2555 20.1901 40.3849 20.4474 40.4642C20.7048 40.5435 20.9752 40.5711 21.2432 40.5455C21.5113 40.5198 21.7716 40.4414 22.0092 40.3147C22.2468 40.1881 22.457 40.0156 22.6277 39.8074C22.7984 39.5992 22.9262 39.3592 23.0038 39.1014L24.5993 33.922C24.7048 33.5795 24.8986 33.2708 25.1613 33.027C25.4239 32.7832 25.7461 32.6127 26.0955 32.5329L26.8558 32.3591C27.2049 32.2797 27.5688 32.2935 27.9109 32.3991C28.253 32.5047 28.5613 32.6985 28.8049 32.9609L32.4942 36.9346C32.8637 37.3273 33.3734 37.5579 33.9123 37.5761C34.4511 37.5943 34.9753 37.3987 35.3704 37.0318C35.7655 36.665 35.9994 36.1568 36.0212 35.6181C36.043 35.0794 35.8509 34.554 35.4867 34.1564L29.9798 28.2231C29.7359 27.9605 29.5655 27.6383 29.4856 27.2889L28.6683 23.7122C28.5686 23.2743 28.6161 22.8158 28.8033 22.4077C28.9906 21.9995 29.3072 21.6645 29.7042 21.4545L34.2817 19.0324C34.7604 18.7791 35.1188 18.3461 35.2782 17.8285C35.4376 17.311 35.3849 16.7513 35.1317 16.2726C34.8784 15.7939 34.4454 15.4355 33.9278 15.2761C33.4102 15.1167 32.8506 15.1694 32.3719 15.4227L27.9716 17.7498C27.5699 17.962 27.1089 18.0341 26.6615 17.9547C26.2142 17.8754 25.8061 17.6491 25.5019 17.3117C25.1976 16.9743 25.0146 16.5451 24.9818 16.0919C24.949 15.6388 25.0682 15.1877 25.3207 14.8099C25.775 14.1303 26.0148 13.33 26.0092 12.5125C26.0036 11.6951 25.7527 10.8981 25.2891 10.2248C24.8255 9.55149 24.1704 9.03286 23.4087 8.73601C22.647 8.43917 21.8138 8.37778 21.0168 8.5598ZM25.1106 26.473C25.6385 26.3523 26.1926 26.4463 26.6512 26.7343C27.1098 27.0223 27.4352 27.4806 27.5558 28.0085C27.6764 28.5363 27.5824 29.0905 27.2945 29.5491C27.0065 30.0076 26.5482 30.333 26.0203 30.4537C25.4924 30.5743 24.9383 30.4803 24.4797 30.1924C24.0211 29.9044 23.6957 29.4461 23.5751 28.9182C23.4545 28.3903 23.5485 27.8361 23.8364 27.3776C24.1244 26.919 24.5827 26.5936 25.1106 26.473ZM23.746 20.5019C24.2739 20.3813 24.828 20.4753 25.2866 20.7632C25.7452 21.0512 26.0706 21.5095 26.1912 22.0374C26.3118 22.5653 26.2178 23.1195 25.9299 23.578C25.6419 24.0366 25.1836 24.362 24.6557 24.4826C24.1278 24.6033 23.5737 24.5093 23.1151 24.2213C22.6565 23.9333 22.3311 23.475 22.2105 22.9471C22.0899 22.4193 22.1839 21.8651 22.4718 21.4065C22.7598 20.9479 23.2181 20.6226 23.746 20.5019Z" fill="#F7F7F7"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_1_8957">
                            <rect width="49" height="49" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <div className={styles.txt}>
                <p>файли cookie допоможуть зробити нашу взаємодію з вами кращою</p>
            </div>
            <div className={styles.buttons}>
                <button className={styles.help} onClick={handleConfirm}>
                    Допоможу!
                </button>
                <button className={styles.read}>
                    Дізнатися більше
                </button>
            </div>
        </div>
    );
};

export default CookieConfirmation;
